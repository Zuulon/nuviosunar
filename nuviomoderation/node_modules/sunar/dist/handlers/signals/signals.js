import { __name } from '../../chunk-7QVYU63E.js';
import { signals, context } from '../../stores/index.js';
import { handleProtectors } from '../protectors/index.js';

function handleSignals() {
  for (const signal of signals.values()) {
    if (!signal.execute) return;
    const method = signal.options.once ? "once" : "on";
    context.client[method](signal.name, async (...args) => {
      if (!signal.execute) return;
      const canContinue = await handleProtectors({ protectors: signal.protectors, data: args });
      if (!canContinue) return;
      signal.execute(...args);
    });
  }
}
__name(handleSignals, "handleSignals");

export { handleSignals };
//# sourceMappingURL=signals.js.map
//# sourceMappingURL=signals.js.map