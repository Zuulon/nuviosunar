'use strict';

var index_cjs = require('../../stores/index.cjs');
var index_cjs$1 = require('../protectors/index.cjs');

var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
function handleSignals() {
  for (const signal of index_cjs.signals.values()) {
    if (!signal.execute) return;
    const method = signal.options.once ? "once" : "on";
    index_cjs.context.client[method](signal.name, async (...args) => {
      if (!signal.execute) return;
      const canContinue = await index_cjs$1.handleProtectors({ protectors: signal.protectors, data: args });
      if (!canContinue) return;
      signal.execute(...args);
    });
  }
}
__name(handleSignals, "handleSignals");

exports.handleSignals = handleSignals;
//# sourceMappingURL=signals.cjs.map
//# sourceMappingURL=signals.cjs.map