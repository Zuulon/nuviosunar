{"version":3,"sources":["../../../src/handlers/button/button.ts"],"names":["buttons","handleCooldown","handleProtectors"],"mappings":";;;;;;;;AAYA,eAAsB,aAAa,WAAgC,EAAA;AAClE,EAAA,MAAM,YAAYA,iBAAQ,CAAA,IAAA,CAAK,CAAC,EAAE,SAAc,KAAA;AAC/C,IAAI,IAAA,OAAA,CAAQ,cAAc,MAAQ,EAAA,OAAO,QAAQ,EAAG,CAAA,IAAA,CAAK,YAAY,QAAQ,CAAA,CAAA;AAC7E,IAAO,OAAA,OAAA,CAAQ,OAAO,WAAY,CAAA,QAAA,CAAA;AAAA,GAClC,CAAA,CAAA;AAED,EAAA,IAAI,CAAC,SAAW,EAAA,OAAA;AAEhB,EAAM,MAAA,UAAA,GAAaC,0BAAe,CAAA,WAAA,EAAa,SAAS,CAAA,CAAA;AACxD,EAAA,IAAI,UAAY,EAAA,OAAA;AAEhB,EAAI,IAAA,OAAO,SAAU,CAAA,OAAA,KAAY,UAAY,EAAA,OAAA;AAE7C,EAAM,MAAA,WAAA,GAAc,MAAMC,4BAAiB,CAAA,EAAE,YAAY,SAAU,CAAA,UAAA,EAAY,IAAM,EAAA,WAAA,EAAa,CAAA,CAAA;AAClG,EAAA,IAAI,CAAC,WAAa,EAAA,OAAA;AAElB,EAAA,MAAM,MAAS,GAAA,MAAM,SAAU,CAAA,OAAA,CAAQ,WAAW,CAAA,CAAA;AAElD,EAAA,IAAI,CAAC,MAAQ,EAAA,OAAA;AAGd,CAAA;AArBsB,MAAA,CAAA,YAAA,EAAA,cAAA,CAAA","file":"button.cjs","sourcesContent":["import type { ButtonInteraction } from 'discord.js';\n\nimport { handleCooldown } from '..';\nimport { buttons } from '../../stores';\nimport { handleProtectors } from '../protectors';\n\n/**\n * Handle a button interaction.\n * @param interaction The button interaction to handle\n *\n * @see https://sunar.js.org/docs/guides/interactions-handling\n */\nexport async function handleButton(interaction: ButtonInteraction) {\n\tconst component = buttons.find(({ options }) => {\n\t\tif (options.id instanceof RegExp) return options.id.test(interaction.customId);\n\t\treturn options.id === interaction.customId;\n\t});\n\n\tif (!component) return;\n\n\tconst onCooldown = handleCooldown(interaction, component);\n\tif (onCooldown) return;\n\n\tif (typeof component.execute !== 'function') return;\n\n\tconst canContinue = await handleProtectors({ protectors: component.protectors, data: interaction });\n\tif (!canContinue) return;\n\n\tconst result = await component.execute(interaction);\n\n\tif (!result) return;\n\n\t// TODO: handle the result of the component execution\n}\n"]}