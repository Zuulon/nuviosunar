{"version":3,"sources":["../../../src/handlers/contextMenu/contextMenu.ts"],"names":["contextMenuCommands","handleCooldown","handleProtectors"],"mappings":";;;;;;;;AAWA,eAAsB,kBACrB,WACC,EAAA;AACD,EAAA,MAAM,OAAU,GAAAA,6BAAA,CAAoB,GAAI,CAAA,WAAA,CAAY,WAAW,CAAA,CAAA;AAE/D,EAAA,IAAI,CAAC,OAAS,EAAA,OAAA;AAEd,EAAM,MAAA,UAAA,GAAaC,0BAAe,CAAA,WAAA,EAAa,OAAO,CAAA,CAAA;AACtD,EAAA,IAAI,UAAY,EAAA,OAAA;AAEhB,EAAI,IAAA,OAAO,OAAQ,CAAA,OAAA,KAAY,UAAY,EAAA,OAAA;AAE3C,EAAM,MAAA,WAAA,GAAc,MAAMC,4BAAiB,CAAA,EAAE,YAAY,OAAQ,CAAA,UAAA,EAAY,IAAM,EAAA,WAAA,EAAa,CAAA,CAAA;AAChG,EAAA,IAAI,CAAC,WAAa,EAAA,OAAA;AAElB,EAAA,MAAM,MAAS,GAAA,MAAM,OAAQ,CAAA,OAAA,CAAQ,WAAW,CAAA,CAAA;AAEhD,EAAA,IAAI,CAAC,MAAQ,EAAA,OAAA;AAGd,CAAA;AApBsB,MAAA,CAAA,iBAAA,EAAA,mBAAA,CAAA","file":"contextMenu.cjs","sourcesContent":["import type { MessageContextMenuCommandInteraction, UserContextMenuCommandInteraction } from 'discord.js';\nimport { handleCooldown } from '..';\nimport { contextMenuCommands } from '../../stores';\nimport { handleProtectors } from '../protectors';\n\n/**\n * Handle a context menu interaction.\n * @param interaction The context menu interaction to handle\n *\n * @see https://sunar.js.org/docs/guides/interactions-handling\n */\nexport async function handleContextMenu(\n\tinteraction: UserContextMenuCommandInteraction | MessageContextMenuCommandInteraction,\n) {\n\tconst command = contextMenuCommands.get(interaction.commandName);\n\n\tif (!command) return;\n\n\tconst onCooldown = handleCooldown(interaction, command);\n\tif (onCooldown) return;\n\n\tif (typeof command.execute !== 'function') return;\n\n\tconst canContinue = await handleProtectors({ protectors: command.protectors, data: interaction });\n\tif (!canContinue) return;\n\n\tconst result = await command.execute(interaction);\n\n\tif (!result) return;\n\n\t// TODO: handle the result of the command execution\n}\n"]}