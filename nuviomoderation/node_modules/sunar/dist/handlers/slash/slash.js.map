{"version":3,"sources":["../../../src/handlers/slash/slash.ts"],"names":[],"mappings":";;;;;;AAaA,eAAsB,YAAY,WAA0C,EAAA;AAC3E,EAAA,MAAM,OAAU,GAAA,aAAA,CAAc,GAAI,CAAA,WAAA,CAAY,WAAW,CAAA,CAAA;AACzD,EAAA,IAAI,CAAC,OAAS,EAAA,OAAA;AAEd,EAAA,MAAM,MAAS,GAAA,WAAA,CAAY,OAAQ,CAAA,kBAAA,CAAmB,KAAK,CAAA,CAAA;AAC3D,EAAA,MAAM,GAAM,GAAA,WAAA,CAAY,OAAQ,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;AAEnD,EAAI,IAAA,MAAA,IAAU,KAAY,OAAA,iBAAA,CAAkB,SAAS,WAAa,EAAA,EAAE,MAAQ,EAAA,GAAA,EAAK,CAAA,CAAA;AAEjF,EAAM,MAAA,UAAA,GAAa,cAAe,CAAA,WAAA,EAAa,OAAO,CAAA,CAAA;AACtD,EAAA,IAAI,UAAY,EAAA,OAAA;AAEhB,EAAM,MAAA,WAAA,GAAc,MAAM,gBAAiB,CAAA,EAAE,YAAY,OAAQ,CAAA,UAAA,EAAY,IAAM,EAAA,WAAA,EAAa,CAAA,CAAA;AAChG,EAAA,IAAI,CAAC,WAAa,EAAA,OAAA;AAElB,EAAI,IAAA,OAAO,OAAQ,CAAA,OAAA,KAAY,UAAY,EAAA,OAAA;AAE3C,EAAA,MAAM,MAAS,GAAA,MAAM,OAAQ,CAAA,OAAA,CAAQ,WAAW,CAAA,CAAA;AAEhD,EAAA,IAAI,CAAC,MAAQ,EAAA,OAAA;AAGd,CAAA;AAtBsB,MAAA,CAAA,WAAA,EAAA,aAAA,CAAA","file":"slash.js","sourcesContent":["import type { ChatInputCommandInteraction } from 'discord.js';\n\nimport { handleCooldown } from '..';\nimport { slashCommands } from '../../stores';\nimport { handleSubcommands } from '../group';\nimport { handleProtectors } from '../protectors';\n\n/**\n * Handle a chat input interaction.\n * @param interaction The chat input interaction to handle\n *\n * @see https://sunar.js.org/docs/guides/interactions-handling\n */\nexport async function handleSlash(interaction: ChatInputCommandInteraction) {\n\tconst command = slashCommands.get(interaction.commandName);\n\tif (!command) return;\n\n\tconst parent = interaction.options.getSubcommandGroup(false);\n\tconst sub = interaction.options.getSubcommand(false);\n\n\tif (parent || sub) return handleSubcommands(command, interaction, { parent, sub });\n\n\tconst onCooldown = handleCooldown(interaction, command);\n\tif (onCooldown) return;\n\n\tconst canContinue = await handleProtectors({ protectors: command.protectors, data: interaction });\n\tif (!canContinue) return;\n\n\tif (typeof command.execute !== 'function') return;\n\n\tconst result = await command.execute(interaction);\n\n\tif (!result) return;\n\n\t// TODO: handle the result of the command execution\n}\n"]}